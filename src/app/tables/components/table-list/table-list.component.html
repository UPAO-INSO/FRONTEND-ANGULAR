<div
  class="h-[calc(100vh-14rem)] relative overflow-y-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 my-5"
  #groupDiv
>
  <!--  -->
  @if (isLoading() || filterIsLoading()) {
  <div
    class="absolute inset-0 flex items-center justify-center bg-gray-800/50 rounded-lg"
  >
    <div class="flex flex-col items-center justify-center">
      <span class="loading loading-bars loading-lg bg-white mb-3"></span>
      <span class="text-white font-medium">Cargando mesas...</span>
    </div>
  </div>
  } @else if (errorMessage()) {
  <div
    class="absolute inset-0 flex items-center justify-center bg-gray-800 rounded-lg"
  >
    <div class="flex flex-col items-center justify-center text-red-400">
      <span class="fa-solid fa-exclamation-triangle text-6xl mb-4"></span>
      <span class="text-xl font-bold mb-2">Error al cargar</span>
      <span class="text-center">{{ errorMessage() }}</span>
    </div>
  </div>
  } @else if (filterTables().length > 0) {

  <!-- Filtered tables -->
  @for (filterTable of filterTables(); track filterTable.id) {
  <app-table-list-item
    [table]="filterTable"
    [tableStatus]="tableStatusEnum()"
    class="h-60"
    (tableSelected)="openRegisterOrder($event)"
  />
  } }
  <!--  -->
  @else if (tables().length > 0) {

  <!-- All tables -->
  @for (table of tables(); track table.id) {
  <app-table-list-item
    [table]="table"
    [tableStatus]="tableStatusEnum()"
    class="h-60"
    (tableSelected)="openRegisterOrder($event)"
  />
  }
  <!--  -->
  } @else {
  <!-- Empty state -->
  <div
    class="absolute inset-0 flex items-center justify-center bg-gray-800 rounded-lg"
  >
    <div class="flex flex-col items-center justify-center text-gray-400">
      <span class="fa-solid fa-chair text-6xl mb-4"></span>
      <span class="text-xl font-bold mb-2">No hay mesas disponibles</span>
      <span class="text-center">No se encontraron mesas en el sistema</span>
    </div>
  </div>
  }
</div>

<!-- Modal para registro de Ã³rdenes -->
@if (selectedTable()) {
<div
  class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
>
  <div class="w-full max-w-7xl max-h-[90vh] overflow-y-auto">
    <app-register-order
      [selectedTable]="selectedTable()"
      [productTypes]="productTypes()"
      (closeModal)="closeRegisterOrder()"
    />
  </div>
</div>
}

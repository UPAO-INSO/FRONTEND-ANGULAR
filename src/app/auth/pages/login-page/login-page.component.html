<!-- Background image -->
<div
  class="absolute inset-0 bg-cover bg-center bg-no-repeat"
  style="
    background-image: url('https://imageproxy.wolt.com/assets/6846cecbd31f00f9026c5283');
  "
></div>

<!-- Dark overlay -->
<div class="absolute inset-0 bg-background/70"></div>

<!-- Login form -->
<div
  class="relative z-10 w-full max-w-md p-8 mx-4 bg-side-background/80 rounded-xl transition-all duration-500 ease-in-out"
>
  <div class="text-center mb-8">
    <!-- Logo and title -->
    <div class="flex items-center justify-center gap-2 mb-4 text-purple-500">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="45"
        height="45"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="m8.1 13.34l2.83-2.83L3.91 3.5a4.01 4.01 0 0 0 0 5.66zm6.78-1.81c1.53.71 3.68.21 5.27-1.38c1.91-1.91 2.28-4.65.81-6.12c-1.46-1.46-4.2-1.1-6.12.81c-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88l1.41-1.41L13.41 13z"
        />
      </svg>
      <h1 class="text-4xl font-bold text-white">El Punto de Sal</h1>
    </div>
    <p class="text-gray-300 text-sm">Bienvenido de nuevo</p>
  </div>

  <form
    class="space-y-6 transition-all duration-300"
    [formGroup]="loginForm"
    (ngSubmit)="onSubmit()"
  >
    <!-- Error Inputs -->
    @if (hasError()) {
    <div
      role="alert"
      class="alert alert-error bg-purple-900/20 text-white border border-purple-500/50 rounded-lg animate-fade-in"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 shrink-0 stroke-current text-red-400"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <span>Por favor verifique la información ingresada.</span>
    </div>
    }

    <!-- Input Usuario  -->
    <div class="form-control">
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <!-- Icono usuario -->
          <svg
            class="h-5 w-5 text-gray-400"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>

        <input
          type="text"
          placeholder="Usuario"
          formControlName="username"
          class="input input-bordered w-full h-12 px-12 bg-gray-800/60 border-gray-600 text-white placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200"
        />

        <!-- Tooltip Usuario -->
        <div
          class="absolute inset-y-0 right-0 z-10 pr-3 flex items-center tooltip tooltip-bottom"
          data-tip="Debe tener entre 4 y 30 caracteres, solo letras, números o guión"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            class="text-gray-400"
          >
            <g fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" />
              <path stroke-linecap="round" d="M12 7h.01" />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10 11h2v5m-2 0h4"
              />
            </g>
          </svg>
        </div>
      </div>
    </div>

    <div class="form-control">
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <svg
            class="h-5 w-5 text-gray-400"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
            ></path>
            <circle cx="16.5" cy="7.5" r=".5" fill="currentColor"></circle>
          </svg>
        </div>

        <input
          [type]="showPassword() ? 'text' : 'password'"
          placeholder="Contraseña"
          formControlName="password"
          class="input input-bordered w-full h-12 px-12 bg-gray-800/60 border-gray-600 text-white placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200"
        />
        <button
          type="button"
          class="absolute inset-y-0 right-10 z-10 flex items-center px-2 focus:outline-none"
          (click)="togglePasswordVisibility()"
          aria-label="Mostrar/Ocultar contraseña"
        >
          @if (!showPassword()) {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <g
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
            >
              <path d="M3 13c3.6-8 14.4-8 18 0" />
              <path d="M12 17a3 3 0 1 1 0-6a3 3 0 0 1 0 6" />
            </g>
          </svg>
          } @if (showPassword()) {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 16 16"
          >
            <path
              fill="currentColor"
              d="m10.12 10.827l4.026 4.027a.5.5 0 0 0 .708-.708l-13-13a.5.5 0 1 0-.708.708l3.23 3.23A6 6 0 0 0 3.2 6.182a6.7 6.7 0 0 0-1.117 1.982c-.021.061-.047.145-.047.145l-.018.062s-.076.497.355.611a.5.5 0 0 0 .611-.355l.001-.003l.008-.025l.035-.109a5.7 5.7 0 0 1 .945-1.674a5 5 0 0 1 1.124-1.014L6.675 7.38a2.5 2.5 0 1 0 3.446 3.446m-.74-.74A1.5 1.5 0 1 1 7.413 8.12zM6.32 4.2l.854.854Q7.564 5 8 5c2.044 0 3.286.912 4.028 1.817a5.7 5.7 0 0 1 .945 1.674q.025.073.035.109l.008.025v.003l.001.001a.5.5 0 0 0 .966-.257v-.003l-.001-.004l-.004-.013a2 2 0 0 0-.06-.187a6.7 6.7 0 0 0-1.117-1.982C11.905 5.089 10.396 4 8.002 4c-.618 0-1.177.072-1.681.199"
            />
          </svg>
          }
        </button>

        <!-- Tooltip Password -->
        <div
          class="absolute inset-y-0 right-0 z-10 pr-3 flex items-center tooltip tooltip-bottom"
          data-tip="Mínimo 8 caracteres, debe incluir mayúscula, minúscula, número y caracter especial"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            class="text-gray-400"
          >
            <g fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" />
              <path stroke-linecap="round" d="M12 7h.01" />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10 11h2v5m-2 0h4"
              />
            </g>
          </svg>
        </div>
      </div>
    </div>

    <div class="flex items-center justify-between text-sm">
      <!-- <label class="flex items-center text-gray-300 cursor-pointer">
        <input
          type="checkbox"
          class="checkbox checkbox-sm border-gray-600 bg-gray-800/50 [--chkbg:theme(colors.purple.600)] [--chkfg:white] mr-2"
        />
        Recordarme
      </label> -->
      <!-- <a class="text-purple-500 hover:text-purple-400 cursor-pointer">
        ¿Olvidaste tu contraseña?
      </a> -->
    </div>

    <button
      type="submit"
      class="btn btn-primary w-full bg-purple-600 hover:bg-purple-700 border-purple-600 hover:border-purple-700 text-white font-medium"
    >
      Iniciar Sesión
    </button>
  </form>
</div>
